{"remainingRequest":"H:\\IDAS Admin\\SW Code Backup\\Inspirit.IDAS_new_v3_23-10-2019\\Inspirit.IDAS\\Inspirit.IDAS.Admin\\ClientApp\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--3-1!H:\\IDAS Admin\\SW Code Backup\\Inspirit.IDAS_new_v3_23-10-2019\\Inspirit.IDAS\\Inspirit.IDAS.Admin\\ClientApp\\node_modules\\@syncfusion\\ej2-richtexteditor\\src\\editor-manager\\plugin\\link.js","dependencies":[{"path":"H:\\IDAS Admin\\SW Code Backup\\Inspirit.IDAS_new_v3_23-10-2019\\Inspirit.IDAS\\Inspirit.IDAS.Admin\\ClientApp\\node_modules\\@syncfusion\\ej2-richtexteditor\\src\\editor-manager\\plugin\\link.js","mtime":499175100000},{"path":"H:\\IDAS Admin\\SW Code Backup\\Inspirit.IDAS_new_v3_23-10-2019\\Inspirit.IDAS\\Inspirit.IDAS.Admin\\ClientApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1510942300000},{"path":"H:\\IDAS Admin\\SW Code Backup\\Inspirit.IDAS_new_v3_23-10-2019\\Inspirit.IDAS\\Inspirit.IDAS.Admin\\ClientApp\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1518061566000}],"contextDependencies":[],"result":["import { createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\r\nimport * as CONSTANT from './../base/constant';\r\nimport { InsertHtml } from './inserthtml';\r\n/**\r\n * Link internal component\r\n * @hidden\r\n */\r\nvar LinkCommand = /*@__PURE__*/ (function () {\r\n    /**\r\n     * Constructor for creating the Formats plugin\r\n     * @hidden\r\n     */\r\n    function LinkCommand(parent) {\r\n        this.parent = parent;\r\n        this.addEventListener();\r\n    }\r\n    LinkCommand.prototype.addEventListener = function () {\r\n        this.parent.observer.on(CONSTANT.LINK, this.linkCommand, this);\r\n    };\r\n    LinkCommand.prototype.linkCommand = function (e) {\r\n        switch (e.value.toString().toLocaleLowerCase()) {\r\n            case 'createlink':\r\n            case 'editlink':\r\n                this.createLink(e);\r\n                break;\r\n            case 'openlink':\r\n                this.openLink(e);\r\n                break;\r\n            case 'removelink':\r\n                this.removeLink(e);\r\n                break;\r\n        }\r\n    };\r\n    LinkCommand.prototype.createLink = function (e) {\r\n        if (!isNullOrUndefined(e.item.selectParent) && e.item.selectParent.length > 0 &&\r\n            e.item.selectParent[0].tagName === 'A') {\r\n            var anchorEle = e.item.selectParent[0];\r\n            anchorEle.setAttribute('href', e.item.url);\r\n            anchorEle.setAttribute('title', e.item.title);\r\n            anchorEle.innerHTML = e.item.text;\r\n            anchorEle.setAttribute('target', e.item.target);\r\n            e.item.selection.setSelectionText(this.parent.currentDocument, anchorEle, anchorEle, 1, 1);\r\n        }\r\n        else {\r\n            var anchor = createElement('a', {\r\n                className: 'e-rte-anchor', attrs: {\r\n                    href: e.item.url,\r\n                    title: e.item.title === '' ? e.item.url : e.item.title\r\n                }\r\n            });\r\n            if (!isNullOrUndefined(e.item.target)) {\r\n                anchor.setAttribute('target', e.item.target);\r\n            }\r\n            anchor.innerText = e.item.text === '' ? e.item.url : e.item.text;\r\n            e.item.selection.restore();\r\n            InsertHtml.Insert(this.parent.currentDocument, anchor);\r\n            if (e.event && e.event.type === 'keydown' && e.event.keyCode === 32) {\r\n                var startContainer = e.item.selection.range.startContainer;\r\n                startContainer.textContent = this.removeText(startContainer.textContent, e.item.url);\r\n            }\r\n            else {\r\n                var startIndex = e.item.action === 'Paste' ? anchor.childNodes[0].textContent.length : 0;\r\n                e.item.selection.setSelectionText(this.parent.currentDocument, anchor.childNodes[0], anchor.childNodes[0], startIndex, anchor.childNodes[0].textContent.length);\r\n            }\r\n        }\r\n        if (e.callBack) {\r\n            e.callBack({\r\n                requestType: 'Links',\r\n                editorMode: 'HTML',\r\n                event: e.event,\r\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\r\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\r\n            });\r\n        }\r\n    };\r\n    LinkCommand.prototype.removeText = function (text, val) {\r\n        var arr = text.split(' ');\r\n        for (var i = 0; i < arr.length; i++) {\r\n            if (arr[i] === val) {\r\n                arr.splice(i, 1);\r\n                i--;\r\n            }\r\n        }\r\n        return arr.join(' ');\r\n    };\r\n    LinkCommand.prototype.openLink = function (e) {\r\n        document.defaultView.open(e.item.url, e.item.target);\r\n        this.callBack(e);\r\n    };\r\n    LinkCommand.prototype.removeLink = function (e) {\r\n        var parent = e.item.selectParent[0].parentNode;\r\n        var child = [];\r\n        for (; e.item.selectParent[0].firstChild; null) {\r\n            child.push(parent.insertBefore(e.item.selectParent[0].firstChild, e.item.selectParent[0]));\r\n        }\r\n        parent.removeChild(e.item.selectParent[0]);\r\n        if (child && child.length === 1) {\r\n            e.item.selection.startContainer = e.item.selection.getNodeArray(child[child.length - 1], true);\r\n            e.item.selection.endContainer = e.item.selection.startContainer;\r\n        }\r\n        e.item.selection.restore();\r\n        this.callBack(e);\r\n    };\r\n    LinkCommand.prototype.callBack = function (e) {\r\n        if (e.callBack) {\r\n            e.callBack({\r\n                requestType: e.item.subCommand,\r\n                editorMode: 'HTML',\r\n                event: e.event,\r\n                range: this.parent.nodeSelection.getRange(this.parent.currentDocument),\r\n                elements: this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)\r\n            });\r\n        }\r\n    };\r\n    return LinkCommand;\r\n}());\r\nexport { LinkCommand };\r\n",null]}